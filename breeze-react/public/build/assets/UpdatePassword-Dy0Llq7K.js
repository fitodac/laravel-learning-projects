import{r as d,W as v,j as s}from"./app-COamctlB.js";import{t as r}from"./translations-BKPM-9oQ.js";import{i}from"./chunk-TC4QW7OA-7veji21g.js";import{b as g}from"./chunk-NXTXE2B3-B4zyMc73.js";const C=()=>{const c=d.useRef(null),l=d.useRef(null),[f,p]=d.useState(!1),{data:o,setData:t,errors:a,put:x,reset:n,processing:h,recentlySuccessful:y,isDirty:j}=v({current_password:"",password:"",password_confirmation:""}),_=e=>{e.preventDefault(),x(route("password.update"),{preserveScroll:!0,onSuccess:()=>{n(),p(!0),setTimeout(()=>p(!1),4e3)},onError:u=>{var m,w;u.password&&(n("password","password_confirmation"),(m=c.current)==null||m.focus()),u.current_password&&(n("current_password"),(w=l.current)==null||w.focus())}})};return s.jsxs("div",{className:"space-y-5",children:[s.jsx("h3",{className:"font-semibold select-none",children:r("Update Password")}),s.jsx("div",{className:"font-light leading-tight select-none",children:r("update-password-description")}),f&&s.jsx("p",{className:"text-success",children:r("password-updated-message")}),s.jsx("div",{className:"mt-3",children:s.jsx("form",{onSubmit:_,children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("fieldset",{className:"space-y-1",children:s.jsx(i,{ref:l,id:"current_password",type:"password",name:"current_password",label:r("Current Password"),value:o.current_password,errorMessage:a.current_password,isInvalid:!!a.current_password,onValueChange:e=>t("current_password",e)})}),s.jsx("fieldset",{className:"space-y-1",children:s.jsx(i,{ref:c,id:"password",type:"password",name:"password",label:r("New Password"),value:o.password,errorMessage:a.password,isInvalid:!!a.password,onValueChange:e=>t("password",e)})}),s.jsx("fieldset",{className:"space-y-1",children:s.jsx(i,{id:"password_confirmation",type:"password",name:"password_confirmation",label:r("Confirm Password"),value:o.password_confirmation,errorMessage:a.password_confirmation,isInvalid:!!a.password_confirmation,onValueChange:e=>t("password_confirmation",e)})}),s.jsx("div",{className:"md:flex justify-end",children:s.jsx("div",{className:"w-1/3",children:s.jsx(g,{fullWidth:!0,color:"primary",type:"submit",isDisabled:!j,spinner:s.jsx("i",{className:"ri-loader-line ri-lg animate-spin"}),isLoading:h,children:r("Save")})})})]})})})]})};export{C as UpdatePassword};
