import{j as e,r as o,i as M,D as W,x as de,V as ce,C as ue,A as pe,B as me,E as fe,w as xe,O as be,W as he}from"./app-COamctlB.js";import{t as g}from"./translations-BKPM-9oQ.js";import{t as ve,d as ge,j as ye,e as D,u as V,g as I,k as q,m as Ce,l as we,h as B,A as je,b as _}from"./chunk-NXTXE2B3-B4zyMc73.js";import{b as E,a as Ne,T as Pe,R as ke,$ as $e}from"./Combination-BOIHPxxW.js";import{i as Oe}from"./chunk-TC4QW7OA-7veji21g.js";var H=ve({slots:{wrapper:["flex","w-screen","h-[100dvh]","fixed","inset-0","z-50","overflow-x-auto","justify-center","[--scale-enter:100%]","[--scale-exit:100%]","[--slide-enter:0px]","[--slide-exit:80px]","sm:[--scale-enter:100%]","sm:[--scale-exit:103%]","sm:[--slide-enter:0px]","sm:[--slide-exit:0px]"],base:["flex","flex-col","relative","bg-white","z-50","w-full","box-border","bg-content1","outline-none","mx-1","my-1","sm:mx-6","sm:my-16"],backdrop:"z-50",header:"flex py-4 px-6 flex-initial text-large font-semibold",body:"flex flex-1 flex-col gap-3 px-6 py-2",footer:"flex flex-row gap-2 px-6 py-4 justify-end",closeButton:["absolute","appearance-none","outline-none","select-none","top-1","right-1","p-2","text-foreground-500","rounded-full","hover:bg-default-100","active:bg-default-200","tap-highlight-transparent",...ge]},variants:{size:{xs:{base:"max-w-xs"},sm:{base:"max-w-sm"},md:{base:"max-w-md"},lg:{base:"max-w-lg"},xl:{base:"max-w-xl"},"2xl":{base:"max-w-2xl"},"3xl":{base:"max-w-3xl"},"4xl":{base:"max-w-4xl"},"5xl":{base:"max-w-5xl"},full:{base:"my-0 mx-0 sm:mx-0 sm:my-0 max-w-full h-[100dvh] !rounded-none"}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"}},placement:{auto:{wrapper:"items-end sm:items-center"},center:{wrapper:"items-center sm:items-center"},top:{wrapper:"items-start sm:items-start"},"top-center":{wrapper:"items-start sm:items-center"},bottom:{wrapper:"items-end sm:items-end"},"bottom-center":{wrapper:"items-end sm:items-center"}},shadow:{sm:{base:"shadow-small"},md:{base:"shadow-medium"},lg:{base:"shadow-large"}},backdrop:{transparent:{backdrop:"hidden"},opaque:{backdrop:"bg-overlay/50 backdrop-opacity-disabled"},blur:{backdrop:"backdrop-blur-md backdrop-saturate-150 bg-overlay/30"}},scrollBehavior:{normal:{base:"overflow-y-hidden"},inside:{base:"max-h-[calc(100%_-_7.5rem)]",body:"overflow-y-auto"},outside:{wrapper:"items-start sm:items-start overflow-y-auto",base:"my-16"}}},defaultVariants:{size:"md",radius:"lg",shadow:"sm",placement:"auto",backdrop:"opaque",scrollBehavior:"normal"},compoundVariants:[{backdrop:["opaque","blur"],class:{backdrop:"w-screen h-screen fixed inset-0"}}]}),Be=n=>e.jsx("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",width:"1em",...n,children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12"})}),Me=globalThis!=null&&globalThis.document?o.useLayoutEffect:o.useEffect,[Ie,T]=ye({name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Modal />`"}),K=D((n,l)=>{const{as:a,children:r,className:s,...u}=n,{slots:f,classNames:t,bodyId:p,setBodyMounted:i}=T(),d=V(l),m=a||"div";return o.useEffect(()=>(i(!0),()=>i(!1)),[i]),e.jsx(m,{ref:d,className:f.body({class:I(t==null?void 0:t.body,s)}),id:p,...u,children:r})});K.displayName="NextUI.ModalBody";var De=K,Re={enter:{scale:"var(--scale-enter)",y:"var(--slide-enter))",opacity:1,transition:{scale:{duration:.4,ease:E.ease},opacity:{duration:.4,ease:E.ease},y:{type:"spring",bounce:0,duration:.6}}},exit:{scale:"var(--scale-exit)",y:"var(--slide-exit)",opacity:0,transition:{duration:.3,ease:E.ease}}},G=D((n,l)=>{const{as:a,children:r,role:s="dialog",...u}=n,{Component:f,domRef:t,slots:p,isOpen:i,classNames:d,motionProps:m,backdrop:x,closeButton:c,hideCloseButton:b,disableAnimation:h,shouldBlockScroll:C,getDialogProps:v,getBackdropProps:j,getCloseButtonProps:N,onClose:P}=T(),R=a||f||"div",{dialogProps:k}=Ne({role:s},t),S=o.isValidElement(c)?o.cloneElement(c,N()):e.jsx("button",{...N(),children:e.jsx(Be,{})}),O=e.jsxs(R,{...v(M(k,u)),children:[e.jsx(W,{onDismiss:P}),!b&&S,typeof r=="function"?r(P):r,e.jsx(W,{onDismiss:P})]}),A=o.useMemo(()=>x==="transparent"?null:h?e.jsx("div",{...j()}):e.jsx(q.div,{animate:"enter",exit:"exit",initial:"exit",variants:Pe.fade,...j()}),[x,h,j]);return e.jsxs("div",{tabIndex:-1,children:[A,e.jsx(ke,{forwardProps:!0,enabled:C&&i,removeScrollBar:!1,children:h?e.jsx("div",{className:p.wrapper({class:d==null?void 0:d.wrapper}),children:O}):e.jsx(q.div,{animate:"enter",className:p.wrapper({class:d==null?void 0:d.wrapper}),exit:"exit",initial:"exit",variants:Re,...m,children:O})})]})});G.displayName="NextUI.ModalContent";var Se=G,J=D((n,l)=>{const{as:a,children:r,className:s,...u}=n,{slots:f,classNames:t,headerId:p,setHeaderMounted:i}=T(),d=V(l),m=a||"header";return o.useEffect(()=>(i(!0),()=>i(!1)),[i]),e.jsx(m,{ref:d,className:f.header({class:I(t==null?void 0:t.header,s)}),id:p,...u,children:r})});J.displayName="NextUI.ModalHeader";var Ae=J;function _e(n={},l,a){let{overlayProps:r,underlayProps:s}=de({...n,isOpen:l.isOpen,onClose:l.close},a);return ce(),o.useEffect(()=>{if(l.isOpen&&a.current)return ue([a.current])},[l.isOpen,a]),{modalProps:M(r),underlayProps:s}}function Ee(n){var l;const[a,r]=Ce(n,H.variantKeys),{ref:s,as:u,className:f,classNames:t,disableAnimation:p=!1,isOpen:i,defaultOpen:d,onOpenChange:m,motionProps:x,closeButton:c,isDismissable:b=!0,hideCloseButton:h=!1,shouldBlockScroll:C=!0,portalContainer:v,isKeyboardDismissDisabled:j=!1,onClose:N,...P}=a,R=u||"section",k=V(s),S=o.useRef(null),[O,A]=o.useState(!1),[X,Y]=o.useState(!1),Z=o.useId(),F=o.useId(),z=o.useId(),w=$e({isOpen:i,defaultOpen:d,onOpenChange:y=>{m==null||m(y),y||N==null||N()}}),{modalProps:ee,underlayProps:L}=_e({isDismissable:b,isKeyboardDismissDisabled:j},w,k),{buttonProps:se}=we({onPress:w.close},S),{isFocusVisible:oe,focusProps:ae}=pe(),te=I(t==null?void 0:t.base,f),$=o.useMemo(()=>H({...r}),[...Object.values(r)]),ne=(y={},ie=null)=>({ref:me(ie,k),...M(ee,P,y),className:$.base({class:I(te,y.className)}),id:Z,"data-open":B(w.isOpen),"data-dismissable":B(b),"aria-modal":B(!0),"aria-labelledby":O?F:void 0,"aria-describedby":X?z:void 0}),re=o.useCallback((y={})=>({className:$.backdrop({class:t==null?void 0:t.backdrop}),onClick:()=>w.close(),...L,...y}),[$,t,L]),le=()=>({role:"button",tabIndex:0,"aria-label":"Close","data-focus-visible":B(oe),className:$.closeButton({class:t==null?void 0:t.closeButton}),...M(se,ae)});return{Component:R,slots:$,domRef:k,headerId:F,bodyId:z,motionProps:x,classNames:t,isDismissable:b,closeButton:c,hideCloseButton:h,portalContainer:v,shouldBlockScroll:C,backdrop:(l=n.backdrop)!=null?l:"opaque",isOpen:w.isOpen,onClose:w.close,disableAnimation:p,setBodyMounted:Y,setHeaderMounted:A,getDialogProps:ne,getBackdropProps:re,getCloseButtonProps:le}}var Q=D((n,l)=>{const{children:a,...r}=n,s=Ee({...r,ref:l}),u=e.jsx(fe,{portalContainer:s.portalContainer,children:a});return e.jsx(Ie,{value:s,children:s.disableAnimation&&s.isOpen?u:e.jsx(je,{children:s.isOpen?u:null})})});Q.displayName="NextUI.Modal";var Ve=Q;function U(n,l=[]){const a=o.useRef(n);return Me(()=>{a.current=n}),o.useCallback((...r)=>{var s;return(s=a.current)==null?void 0:s.call(a,...r)},l)}function Te(n={}){const{id:l,defaultOpen:a,isOpen:r,onClose:s,onOpen:u,onChange:f=()=>{}}=n,t=U(u),p=U(s),[i,d]=xe(r,a||!1,f),m=o.useId(),x=l||m,c=r!==void 0,b=o.useCallback(()=>{c||d(!1),p==null||p()},[c,p]),h=o.useCallback(()=>{c||d(!0),t==null||t()},[c,t]),C=o.useCallback(()=>{(i?b:h)()},[i,h,b]);return{isOpen:!!i,onOpen:h,onClose:b,onOpenChange:C,isControlled:c,getButtonProps:(v={})=>({...v,"aria-expanded":i,"aria-controls":x,onClick:be(v.onClick,C)}),getDisclosureProps:(v={})=>({...v,hidden:!i,id:x})}}const He=()=>{const{isOpen:n,onOpen:l,onClose:a,onOpenChange:r}=Te(),s=o.useRef(null),{data:u,setData:f,delete:t,processing:p,reset:i,errors:d}=he({password:""}),m=x=>{x.preventDefault(),t(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>a(),onError:()=>{var c;return(c=s.current)==null?void 0:c.focus()},onFinish:()=>i()})};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-danger space-y-5",children:[e.jsx("h3",{className:"font-semibold select-none",children:g("Delete Account")}),e.jsx("div",{className:"font-light leading-tight select-none",children:g("delete-account-confirmation-message")}),e.jsx("div",{className:"md:flex justify-end",children:e.jsx("div",{className:"w-1/3",children:e.jsx(_,{color:"danger",onPress:l,fullWidth:!0,children:g("Delete account")})})})]}),e.jsx(Ve,{hideCloseButton:!0,size:"sm",isOpen:n,onOpenChange:r,isDismissable:!1,isKeyboardDismissDisabled:!0,children:e.jsx(Se,{children:x=>e.jsxs(e.Fragment,{children:[e.jsx(Ae,{children:e.jsx("span",{className:"leading-tight select-none",children:g("delete-account-confirmation-title")})}),e.jsx("form",{onSubmit:m,children:e.jsxs(De,{children:[e.jsx("p",{className:"text-sm leading-tight select-none",children:g("delete-account-confirmation-message")}),e.jsx("div",{className:"space-y-1",children:e.jsx(Oe,{ref:s,id:"password",type:"password",name:"password",label:g("Password"),value:u.password,errorMessage:d.password,isInvalid:!!d.password,onValueChange:c=>f("password",c)})}),e.jsxs("div",{className:"flex gap-x-5 pb-5",children:[e.jsx(_,{color:"danger",fullWidth:!0,type:"submit",spinner:e.jsx("i",{className:"ri-loader-line ri-lg animate-spin"}),isLoading:p,children:g("Delete")}),e.jsx(_,{color:"default",fullWidth:!0,onPress:x,children:g("Cancel")})]})]})})]})})})]})};export{He as DeleteAccount};
